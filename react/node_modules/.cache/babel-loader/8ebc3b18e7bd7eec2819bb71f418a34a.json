{"ast":null,"code":"import _classCallCheck from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/src/Member/Login.js\";\nimport React from 'react';\nimport Config from '../config';\nimport Utils from '../utils';\nimport Cookie from '../cookie';\nimport './Login.css';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    document.title = 'Member Login';\n    _this.state = {\n      formData: {\n        name: '',\n        password: ''\n      },\n      disabled: false,\n      submitText: 'Login'\n    };\n    _this.input = _this.input.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.login = _this.login.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } // 输入\n\n\n  _createClass(Login, [{\n    key: \"input\",\n    value: function input(e) {\n      e.preventDefault();\n      var formData = this.state.formData;\n      e = e.target;\n      formData[e.name] = e.value;\n      this.setState({\n        formData: formData\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(e) {\n      e.preventDefault();\n      var $this = this;\n      var postdata = this.state.formData;\n      $this.setState({\n        disabled: true,\n        submitText: 'Submitting'\n      });\n      postdata = Utils.jsonToForm(postdata);\n      Utils.request(Config.requestUrl + Utils.requestUrl('member-login'), postdata, function (data) {\n        Cookie.save(\"loginCookie\", data);\n        Utils.alert(\"Login successfully\", function () {\n          window.location.href = Utils.url(\"index-show\");\n        }, 1500);\n      }, function (msg) {\n        $this.setState({\n          disabled: false,\n          submitText: 'Login'\n        });\n        Utils.alert(msg);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state;\n      return React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../Asset/Img/logo.png'),\n        alt: \"\",\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Member Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control col-lg-8\",\n        value: state.formData.name,\n        onChange: this.input,\n        name: \"name\",\n        placeholder: \"Member Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control col-lg-8\",\n        value: state.formData.password,\n        onChange: this.input,\n        name: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"btn btn-block btn-warning mt-5\",\n        disabled: state.disabled,\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, state.submitText)));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/GAMEHERO/Desktop/2DV603/最后的作业/2DV603-master/react/src/Member/Login.js"],"names":["React","Config","Utils","Cookie","Login","props","document","title","state","formData","name","password","disabled","submitText","input","bind","login","e","preventDefault","target","value","setState","$this","postdata","jsonToForm","request","requestUrl","data","save","alert","window","location","href","url","msg","require","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport Config from '../config';\r\nimport Utils from '../utils';\r\nimport Cookie from '../cookie';\r\nimport './Login.css';\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        document.title = 'Member Login';\r\n        this.state = {\r\n            formData: {name:'', password: ''},\r\n            disabled: false,\r\n            submitText: 'Login'\r\n        };\r\n        this.input = this.input.bind(this);\r\n        this.login = this.login.bind(this);\r\n    }\r\n\r\n    // 输入\r\n    input(e){\r\n        e.preventDefault();\r\n        let formData = this.state.formData;\r\n        e = e.target;\r\n        formData[e.name] = e.value;\r\n        this.setState({\r\n            formData: formData\r\n        });\r\n    }\r\n\r\n    login(e){\r\n        e.preventDefault();\r\n        let $this = this;\r\n        let postdata = this.state.formData;\r\n        $this.setState({ disabled: true, submitText: 'Submitting' });\r\n        postdata = Utils.jsonToForm(postdata);\r\n        Utils.request(Config.requestUrl+Utils.requestUrl('member-login'), postdata, function(data){\r\n            Cookie.save(\"loginCookie\", data);\r\n            Utils.alert(\"Login successfully\",function(){\r\n                window.location.href = Utils.url(\"index-show\");\r\n            }, 1500);\r\n        }, function(msg){\r\n            $this.setState({ disabled: false, submitText: 'Login' });\r\n            Utils.alert(msg);\r\n        });\r\n    }\r\n\r\n    render(){\r\n        let state = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <img src={require('../Asset/Img/logo.png')} alt=\"\" className=\"logo\" />\r\n                <div className=\"box\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-4\">Member Name</div>\r\n                        <input type=\"text\" className=\"form-control col-lg-8\" value={state.formData.name} onChange={this.input} name=\"name\" placeholder=\"Member Name\" />\r\n                    </div>\r\n                    <div className=\"row mt-4\">\r\n                        <div className=\"col-lg-4\">Password</div>\r\n                        <input type=\"password\" className=\"form-control col-lg-8\" value={state.formData.password} onChange={this.input} name=\"password\" placeholder=\"Password\" />\r\n                    </div>\r\n                    <button className=\"btn btn-block btn-warning mt-5\" disabled={state.disabled} onClick={this.login}>{state.submitText}</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}