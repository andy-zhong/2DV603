{"ast":null,"code":"import _classCallCheck from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/GAMEHERO/Desktop/2DV603/\\u6700\\u540E\\u7684\\u4F5C\\u4E1A/2DV603-master/react/src/Schedule/Edit.js\";\nimport React from 'react';\nimport DatePicker from \"react-datepicker\";\nimport 'react-datepicker/dist/react-datepicker.css';\nimport Config from '../config';\nimport Utils from '../utils';\nimport Sider from \"../Public/Sider\";\nimport Header from \"../Public/Header\";\nimport './Edit.css';\n\nvar Edit =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Edit, _React$Component);\n\n  function Edit(props) {\n    var _this;\n\n    _classCallCheck(this, Edit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Edit).call(this, props));\n    document.title = 'Schedule Edit';\n\n    var $this = _assertThisInitialized(_assertThisInitialized(_this));\n\n    $this.state = {\n      member: {},\n      schedule: {},\n      id: props.match.params.id,\n      type: ['SubmitDescription', 'SubmitPlan', 'SubmitReport']\n    };\n    Utils.checkMember(function (res) {\n      if (res.group !== 1) {\n        Utils.alert('Access denied', function () {\n          window.location.href = Utils.url('index-show');\n        });\n        return false;\n      }\n\n      $this.setState({\n        member: res\n      });\n      Utils.request(Config.requestUrl + Utils.requestUrl('schedule-readById'), 'cookie=' + Utils.getLoginCookie() + '&id=' + $this.state.id, function (res) {\n        res.startTime = new Date(res.startTime * 1000);\n        res.endTime = new Date(res.endTime * 1000);\n        $this.setState({\n          schedule: res\n        });\n      });\n    });\n    _this.startTimeChange = _this.startTimeChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.endTimeChange = _this.endTimeChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Edit, [{\n    key: \"input\",\n    value: function input(e) {\n      e.preventDefault();\n      var schedule = this.state.schedule;\n      e = e.target;\n      schedule[e.name] = e.value;\n      this.setState({\n        schedule: schedule\n      });\n    }\n  }, {\n    key: \"startTimeChange\",\n    value: function startTimeChange(time) {\n      var schedule = this.state.schedule;\n      schedule.startTime = time;\n      this.setState({\n        schedule: schedule\n      });\n    }\n  }, {\n    key: \"endTimeChange\",\n    value: function endTimeChange(time) {\n      var schedule = this.state.schedule;\n      schedule.endTime = time;\n      this.setState({\n        schedule: schedule\n      });\n    }\n  }, {\n    key: \"submit\",\n    value: function submit(e) {\n      e.preventDefault();\n      var postdata = Object.assign(this.state.schedule);\n      postdata.startTime = new Date(postdata.startTime).getTime() / 1000;\n      postdata.endTime = new Date(postdata.endTime).getTime() / 1000;\n      postdata.cookie = Utils.getLoginCookie();\n      Utils.request(Config.requestUrl + Utils.requestUrl('schedule-edit'), Utils.jsonToForm(postdata), function (res) {\n        Utils.alert(res);\n      }, function (msg) {\n        Utils.alert(msg);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var schedule = this.state.schedule;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Sider, {\n        member: this.state.member,\n        active1: \"Schedule\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Header, {\n        title1: null,\n        title2: \"Schedule\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"wrap schedule-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Title:\"), React.createElement(\"div\", {\n        className: \"value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: schedule.title || '',\n        className: \"form-control\",\n        name: \"title\",\n        onChange: this.input.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Type:\"), React.createElement(\"div\", {\n        className: \"value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"form-control\",\n        value: schedule.type,\n        name: \"type\",\n        onChange: this.input.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.state.type.map(function (t, k) {\n        return React.createElement(\"option\", {\n          value: t,\n          key: k,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, t);\n      })))), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Start Time:\"), React.createElement(\"div\", {\n        className: \"value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        className: \"form-control\",\n        selected: schedule.startTime,\n        onChange: this.startTimeChange,\n        dateFormat: \"yyyy-MM-dd HH:mm\",\n        timeFormat: \"HH:mm\",\n        timeIntervals: 1,\n        showTimeSelect: true,\n        name: \"startTime\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"End Time:\"), React.createElement(\"div\", {\n        className: \"value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        className: \"form-control\",\n        selected: schedule.endTime,\n        onChange: this.endTimeChange,\n        dateFormat: \"yyyy-MM-dd HH:mm\",\n        timeFormat: \"HH:mm\",\n        timeIntervals: 1,\n        showTimeSelect: true,\n        name: \"endTime\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        onClick: this.submit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }]);\n\n  return Edit;\n}(React.Component);\n\nexport default Edit;","map":{"version":3,"sources":["/Users/GAMEHERO/Desktop/2DV603/最后的作业/2DV603-master/react/src/Schedule/Edit.js"],"names":["React","DatePicker","Config","Utils","Sider","Header","Edit","props","document","title","$this","state","member","schedule","id","match","params","type","checkMember","res","group","alert","window","location","href","url","setState","request","requestUrl","getLoginCookie","startTime","Date","endTime","startTimeChange","bind","endTimeChange","e","preventDefault","target","name","value","time","postdata","Object","assign","getTime","cookie","jsonToForm","msg","input","map","t","k","submit","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport DatePicker from \"react-datepicker\";\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nimport Config from '../config';\r\nimport Utils from '../utils';\r\n\r\nimport Sider from \"../Public/Sider\";\r\nimport Header from \"../Public/Header\";\r\n\r\nimport './Edit.css';\r\n\r\nclass Edit extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        document.title = 'Schedule Edit';\r\n        let $this = this;\r\n        $this.state = {\r\n            member: {},\r\n            schedule: {},\r\n            id: props.match.params.id,\r\n            type: ['SubmitDescription', 'SubmitPlan', 'SubmitReport']\r\n        };\r\n        Utils.checkMember(function(res){\r\n            if(res.group!==1){\r\n                Utils.alert('Access denied', function(){\r\n                    window.location.href = Utils.url('index-show');\r\n                });\r\n                return false;\r\n            }\r\n            $this.setState({\r\n                member: res\r\n            })\r\n            Utils.request(Config.requestUrl+Utils.requestUrl('schedule-readById'), 'cookie='+Utils.getLoginCookie()+'&id='+$this.state.id, function(res){\r\n                res.startTime = new Date(res.startTime*1000);\r\n                res.endTime = new Date(res.endTime*1000);\r\n                $this.setState({\r\n                    schedule: res\r\n                })\r\n            })\r\n        })\r\n        this.startTimeChange = this.startTimeChange.bind(this);\r\n        this.endTimeChange = this.endTimeChange.bind(this);\r\n    }\r\n\r\n    input(e){\r\n        e.preventDefault();\r\n        let schedule = this.state.schedule;\r\n        e = e.target;\r\n        schedule[e.name] = e.value;\r\n        this.setState({\r\n            schedule: schedule\r\n        });\r\n    }\r\n\r\n    startTimeChange(time){\r\n        let schedule = this.state.schedule;\r\n        schedule.startTime = time;\r\n        this.setState({\r\n            schedule: schedule\r\n        })\r\n    }\r\n\r\n    endTimeChange(time){\r\n        let schedule = this.state.schedule;\r\n        schedule.endTime = time;\r\n        this.setState({\r\n            schedule: schedule\r\n        })\r\n    }\r\n\r\n    submit(e){\r\n        e.preventDefault();\r\n        let postdata = Object.assign(this.state.schedule);\r\n        postdata.startTime = new Date(postdata.startTime).getTime() / 1000;\r\n        postdata.endTime = new Date(postdata.endTime).getTime() / 1000;\r\n        postdata.cookie = Utils.getLoginCookie();\r\n        Utils.request(Config.requestUrl+Utils.requestUrl('schedule-edit'), Utils.jsonToForm(postdata), function(res){\r\n            Utils.alert(res);\r\n        }, function(msg){\r\n            Utils.alert(msg);\r\n        });\r\n    }\r\n\r\n    render(){\r\n        let schedule = this.state.schedule;\r\n        return (\r\n            <div>\r\n                <Sider member={this.state.member} active1=\"Schedule\"></Sider>\r\n                <Header title1={null} title2=\"Schedule\"></Header>\r\n\r\n                <div className=\"wrap schedule-edit\">\r\n                    <div className=\"item\">\r\n                        <div className=\"title\">Title:</div>\r\n                        <div className=\"value\">\r\n                            <input value={schedule.title||''} className=\"form-control\" name=\"title\" onChange={this.input.bind(this)} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"item\">\r\n                        <div className=\"title\">Type:</div>\r\n                        <div className=\"value\">\r\n                            <select className=\"form-control\" value={schedule.type} name=\"type\" onChange={this.input.bind(this)}>\r\n                                {this.state.type.map((t, k)=>{\r\n                                    return <option value={t} key={k}>{t}</option>\r\n                                })}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"item\">\r\n                        <div className=\"title\">Start Time:</div>\r\n                        <div className=\"value\">\r\n                            <DatePicker\r\n                                className=\"form-control\"\r\n                                selected={schedule.startTime}\r\n                                onChange={this.startTimeChange}\r\n                                dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                timeFormat=\"HH:mm\"\r\n                                timeIntervals={1}\r\n                                showTimeSelect\r\n                                name=\"startTime\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"item\">\r\n                        <div className=\"title\">End Time:</div>\r\n                        <div className=\"value\">\r\n                            <DatePicker\r\n                                className=\"form-control\"\r\n                                selected={schedule.endTime}\r\n                                onChange={this.endTimeChange}\r\n                                dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                timeFormat=\"HH:mm\"\r\n                                timeIntervals={1}\r\n                                showTimeSelect\r\n                                name=\"endTime\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"btn btn-success\" onClick={this.submit.bind(this)}>Submit</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Edit;\r\n"]},"metadata":{},"sourceType":"module"}